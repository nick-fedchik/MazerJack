Code Convention v1.1

1. Загальні правила

Кожен файл — самодостатній і читабельний без контексту

Один скрипт = одна відповідальність

Без “магії”: усе, що впливає на поведінку, має бути явно задекларовано

Жодних неописаних side-effect’ів

Версія гри (GameVersion) — окремо, версія скрипта — окремо

Патчі змінюють ТІЛЬКИ третю цифру версії

2. Обов’язковий початковий коментар (Header)

Кожен скрипт ЗОБОВ’ЯЗАНИЙ починатися з такого блоку:

--[[
Тип: Script | LocalScript | ModuleScript
Назва: <ScriptName>
Версія: 1.2.X
Розміщення: <Exact Roblox path, напр. ServerScriptService/Services/PlayerService>

    Призначення:
      Короткий, однозначний опис — ЩО робить скрипт і НАВІЩО він існує.

    Загальна логіка:
      - 3–7 пунктів
      - без деталей реалізації
      - опис життєвого циклу або сценарію

    Взаємодія / контракти:
      - з якими скриптами взаємодіє
      - через що (Attributes / Remotes / прямі виклики)
      - у якому напрямку (Client → Server, Service → State, etc.)

    Архітектурні правила:
      - що ЗАБОРОНЕНО робити в цьому скрипті
      - що ДОЗВОЛЕНО

--]]

❌ Заборонено:

скорочені заголовки

“TODO” замість опису

неточний шлях розміщення

3. Структура скрипта (обов’язкові секції)

Секції завжди йдуть у такому порядку:

---

## -- Services

---

## -- Dependencies

---

## -- Constants / Configuration

---

## -- Module / Object setup

---

## -- Helpers (private)

---

## -- Public API / Event handling / Lifecycle

---

## -- Init / Bootstrapping (if applicable)

❌ Заборонено:

змішувати логіку і ініціалізацію

оголошувати функції “між рядками”

4. Коментарі до функцій (ОБОВ’ЯЗКОВО)

Кожна функція (навіть local) має такий опис:

---

-- Function: <functionName>
-- Призначення:
-- ЩО робить функція і ЧОМУ вона існує
-- Вхідні параметри:
-- param1: тип — опис
-- param2: тип — опис
-- Вихід / ефект:
-- що повертає або який side-effect
-- Хто використовує:
-- конкретні скрипти / події / кнопки

---

local function functionName(param1, param2)

❌ Заборонено:

функції без опису

“очевидно з назви”

анонімні функції без коментаря (крім trivial callback’ів)

5. Логування

Logger використовується всюди

Кожен скрипт має власний Logger:

local log = Logger.new("ScriptName", "1.2.X")

Обов’язкові логи:

Constructor / Init

ключові переходи станів

важливі user actions

Заборонено:

print

warn напряму

логувати “шум”

6. Атрибути, стани, події

Attributes:

лише для runtime-стану

імена — явні (CurrentMode, IsInStation)

Remotes:

лише як транспорт

без логіки

StateMachine:

тільки координує

не виконує бізнес-логіку

7. Кінцевий коментар (Footer)

❗ СТРОГО в кінці файлу, після return / коду

return ModuleName

---

## -- End of script: ModuleName v1.2.X

❌ Заборонено:

footer перед return

відсутній footer

8. Версіонування

GameConfig.GameVersion = "1.2.0" — baseline
Усі скрипти стартують з 1.2.0
Будь-яка правка = 1.2.1, 1.2.2, …

Заборонено:
різні major/minor у межах однієї ітерації
“підганяти” версію заднім числом
